{"ast":null,"code":"const API_BASE_URL = 'http://localhost:5000/api';\n\n// Helper function for API calls\nconst apiCall = async (endpoint, options = {}) => {\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    },\n    ...options\n  };\n  if (options.body) {\n    config.body = JSON.stringify(options.body);\n  }\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.message || 'Something went wrong');\n  }\n  return data;\n};\n\n// Auth API\nexport const authAPI = {\n  register: async userData => {\n    return apiCall('/register', {\n      method: 'POST',\n      body: userData\n    });\n  },\n  login: async credentials => {\n    return apiCall('/login', {\n      method: 'POST',\n      body: credentials\n    });\n  },\n  getUser: async () => {\n    return apiCall('/user');\n  }\n};\n\n// User Data API\nexport const userDataAPI = {\n  updateFavorites: async movieId => {\n    return apiCall('/favorites', {\n      method: 'PUT',\n      body: {\n        movieId\n      }\n    });\n  },\n  updateWatchlist: async movieId => {\n    return apiCall('/watchlist', {\n      method: 'PUT',\n      body: {\n        movieId\n      }\n    });\n  },\n  getUserData: async () => {\n    return apiCall('/user-data');\n  }\n};\n\n// Reviews API\nexport const reviewsAPI = {\n  addReview: async reviewData => {\n    return apiCall('/reviews', {\n      method: 'POST',\n      body: reviewData\n    });\n  },\n  getMovieReviews: async movieId => {\n    return apiCall(`/reviews/${movieId}`);\n  },\n  getUserReviews: async () => {\n    return apiCall('/user-reviews');\n  }\n};\n\n// Store token\nexport const setToken = token => {\n  localStorage.setItem('token', token);\n};\n\n// Remove token\nexport const removeToken = () => {\n  localStorage.removeItem('token');\n};\n\n// Get token\nexport const getToken = () => {\n  return localStorage.getItem('token');\n};","map":{"version":3,"names":["API_BASE_URL","apiCall","endpoint","options","token","localStorage","getItem","config","headers","Authorization","body","JSON","stringify","response","fetch","data","json","ok","Error","message","authAPI","register","userData","method","login","credentials","getUser","userDataAPI","updateFavorites","movieId","updateWatchlist","getUserData","reviewsAPI","addReview","reviewData","getMovieReviews","getUserReviews","setToken","setItem","removeToken","removeItem","getToken"],"sources":["C:/Users/sabar/OneDrive/Desktop/movie-recommendation/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5000/api';\r\n\r\n// Helper function for API calls\r\nconst apiCall = async (endpoint, options = {}) => {\r\n  const token = localStorage.getItem('token');\r\n  \r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(token && { Authorization: `Bearer ${token}` }),\r\n    },\r\n    ...options,\r\n  };\r\n\r\n  if (options.body) {\r\n    config.body = JSON.stringify(options.body);\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || 'Something went wrong');\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n  register: async (userData) => {\r\n    return apiCall('/register', {\r\n      method: 'POST',\r\n      body: userData,\r\n    });\r\n  },\r\n\r\n  login: async (credentials) => {\r\n    return apiCall('/login', {\r\n      method: 'POST',\r\n      body: credentials,\r\n    });\r\n  },\r\n\r\n  getUser: async () => {\r\n    return apiCall('/user');\r\n  },\r\n};\r\n\r\n// User Data API\r\nexport const userDataAPI = {\r\n  updateFavorites: async (movieId) => {\r\n    return apiCall('/favorites', {\r\n      method: 'PUT',\r\n      body: { movieId },\r\n    });\r\n  },\r\n\r\n  updateWatchlist: async (movieId) => {\r\n    return apiCall('/watchlist', {\r\n      method: 'PUT',\r\n      body: { movieId },\r\n    });\r\n  },\r\n\r\n  getUserData: async () => {\r\n    return apiCall('/user-data');\r\n  },\r\n};\r\n\r\n// Reviews API\r\nexport const reviewsAPI = {\r\n  addReview: async (reviewData) => {\r\n    return apiCall('/reviews', {\r\n      method: 'POST',\r\n      body: reviewData,\r\n    });\r\n  },\r\n\r\n  getMovieReviews: async (movieId) => {\r\n    return apiCall(`/reviews/${movieId}`);\r\n  },\r\n\r\n  getUserReviews: async () => {\r\n    return apiCall('/user-reviews');\r\n  },\r\n};\r\n\r\n// Store token\r\nexport const setToken = (token) => {\r\n  localStorage.setItem('token', token);\r\n};\r\n\r\n// Remove token\r\nexport const removeToken = () => {\r\n  localStorage.removeItem('token');\r\n};\r\n\r\n// Get token\r\nexport const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}